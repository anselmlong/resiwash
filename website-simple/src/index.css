@import "tailwindcss";

/*
  Tailwind v4: map `dark:` variant to our `.light` class.
  This matches the existing class usage like `bg-dark-* dark:bg-light-*`.
*/
@custom-variant dark (&:where(.light, .light *));

@theme {
  /* Font families */
  --font-sans: 'Work Sans', system-ui, sans-serif;
  --font-mono: 'IBM Plex Mono', monospace;

  /* Brand accent */
  --color-accent-dark: var(--accent);
  --color-accent-light: var(--accent);

  /* Surfaces */
  --color-dark-bg: var(--bg);
  --color-dark-surface: var(--surface);
  --color-dark-border: var(--border-color);

  --color-light-bg: var(--bg);
  --color-light-surface: var(--surface);
  --color-light-border: var(--border-color);

  /* Text */
  --color-dark-text-primary: var(--text-primary);
  --color-dark-text-secondary: var(--text-secondary);
  --color-light-text-primary: var(--text-primary);
  --color-light-text-secondary: var(--text-secondary);

  /* Status colors */
  --color-status-available: #00ff88;
  --color-status-inUse: #ffcc00;
  --color-status-finishing: #ffaa00;
  --color-status-issues: #666666;
  --color-status-unknown: #444444;
}

/* Default dark mode */
:root {
  --bg: #0a0a0a;
  --bg-rgb: 10, 10, 10;
  --surface: #1a1a1a;
  --border-color: rgba(255, 122, 0, 0.35);
  --text-primary: #ffffff;
  --text-secondary: #888888;
  --accent: #ff7a00;
  
  --status-available: 0, 255, 136;
  --status-inUse: 255, 204, 0;
  --status-finishing: 255, 170, 0;
  --status-issues: 102, 102, 102;
  --status-unknown: 68, 68, 68;
}

/* Light mode */
.light {
  --bg: #ffffff;
  --bg-rgb: 255, 255, 255;
  --surface: #f5f5f5;
  --border-color: rgba(255, 122, 0, 0.5);
  --text-primary: #0a0a0a;
  --text-secondary: #666666;
  --accent: #ff7a00;
}

body {
  font-family: var(--font-sans);
  background-color: var(--bg);
  color: var(--text-primary);
}

* {
  transition: background-color 200ms ease,
              color 200ms ease,
              border-color 200ms ease;
}

.status-changed {
  animation: statusGlow 1s ease-in-out;
}

@keyframes statusGlow {
  0%, 100% {
    box-shadow: 0 0 0 rgba(var(--status-color), 0);
  }
  50% {
    box-shadow: 0 0 20px rgba(var(--status-color), 0.8),
                0 0 40px rgba(var(--status-color), 0.4);
  }
}

/* Utility classes using CSS variables */
.bg-app { background-color: var(--bg); }
.bg-surface { background-color: var(--surface); }
.border-app { border-color: var(--border-color); }
.text-primary { color: var(--text-primary); }
.text-secondary { color: var(--text-secondary); }
.text-accent { color: var(--accent); }
.bg-accent { background-color: var(--accent); }
.border-accent { border-color: var(--accent); }
